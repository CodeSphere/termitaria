Business Rules TS

---------------------------------------------------------------------------

///////////////////////////////////////////////////////////////////////////////////////////
 De fiecare data cand se adauga in baza de date o entitate care presupune una din entitatile 
 ProjectDetail, TeamMemberDetail si PersonDetail, se adauga implicit entitatile dependente. 
 (Ex: Record, Activitate, etc)
 ///////////////////////////////////////////////////////////////////////////////////////////  	  


1. Project
---------------

a) Search
	- USER_ALL : Toate proiectele din organizatie, pentru toti clientii
	- USER : Proiectele din care face parte. 

b)
	i) Pentru fiecare proiect - posibilitate editare detalii. Se creeaza in spate projectDetail. 
	   Interactiunea utilizatorului cu aplicatia permite editarea detaliilor despre fiecare proiect.
   ii) Pentru fiecare proiect - posibilitate listing membrii echipei de proiect. Se afiseaza un listing cu membrii
       din echipa de proiect, pentru care se editeaza detaliile pentru fiecare membru. Se creeaza in spate teamMemberDetail.
  iii) Pentru fiecare proiect - posibilitate vizualizare proiect.
   	    
   	     	
2) Activitati
---------------

    i) Pentru un proiect care nu are projectDetail, se creaza automat, pentru a permite adaugarea unei activitati.    
    ii) Search
    		- USER_ALL : cauta in toate activiatile din organizatie si in activitatile din proiectele organizatie
    		- USER: cauta in activitatile proiectelor din care face parte si cele din interiorul organizatiei              
   	iii) Adaugare / Modificare
   			- USER_ALL : adauga / modifica activitati in organizatie si pentru toate proiectele din organizatie
   			- USER( cu rol de PM) : adauga / modifica activitati pentru proiectele pentru care este el PM
   			- USER : nu adauga / modifica nici o activitate
   		
    iiii) Stergere 
    		- Nu se sterge o activitate care este implicata intr-un pontaj.
    		- USER_ALL : sterge toate activitatile din organizatie
    		             sau cele din proiectele organizatiei
    		- USER (cu rol de PM): sterge activitatile din proiectele pentru care este el PM
    		- USER : nu sterge nici o activitate
    

3) Inregistrare
---------------

A)
	a) Adaugare inregistrare pentru un USER. 
		
		-In momentul in care un utilizator vrea adaugarea unei inregistrari, se verifica 
		daca pentru acest utilizator exista un teamMemberDetail/personDetail. Daca nu exista, se creaza, 
		si ulterior se face adaugarea inregistrarii.
		-In cazul unui user care nu este PM in nici un proiect, input-ul pentru utilizator nu va fi niciodata
		afisat;
		
		
	b) Adaugare inregistrare pentru PM
	   
	   -PM-ul poate sa adauge inregistrari si pentru membrii echipei lui. Prin urmare, in momenul
	   in care PM-ul vrea adaugarea unei inregistrari pentru un membru al echipei, se verifica daca
	   membru are asociat un teamMemberDetail. Daca nu exista, se creaza si se adauga inregistrarea.
	   -Input-ul pentru utilizator nu este afisat in cazul in care se alege sa se ponteze per organizatie,
	   atunci cand nu este selectat nimic in select-ul de proiect sau pentru orice proiect in care nu este PM;
	   pentru proiectele in care user-ul este PM, input-ul este afisat si completat by default cu numele utilizatorului logat
	   
	c) Adaugare inregistrare pentru USER_ALL.
	   
	   -USER_ALL poate sa adauge inregistrari pentru toate persoanele. (In continuare Idem b) )
	   -Input-ul pentru utilizator este afisat tot timpul indiferent de optiunea aleasa in select-ul
	   pentru proiect (nu este afisat daca nu este selectat nimic); numele utilizatorului este completat
	   by default cand este aleasa optiunea de pontaj per organizatie si atunci cand este selectat unul din
	   proiectele din care face parte
	
B) Inregistrare - in cadrul proiectului ( se creaza in spate projectDetail)
                - in cadrul companiei

4) Persoana
------------------------

	a) tabul de persoane pentru TeamMemberDetail si PersonDetail : cautare de persoane din organizatie, din proiecte
	b) pentru USER_ALL: toate persoanele din organizatie + cele externe (editare PersonDetail $ TeamMemberDetail)
	c) pentru USER: persoanele din proiectele din care face parte, doar cu functia de vizualizare informatii
	d) pentru USER, cu functie de PM: toate persoanele din proiectele pentru care este el PM si din care face parte (TeamMemberDetail)
	e) pentru USER_ALL: pentru persoanele externe - editeaza TeamMemberDetail
	                    pentru persoanele din org, care nu fac parte din nici un proiect - editeaza PersonDetail
	                    pentru persoanele din org, care fac parte din cel putin un proiect - editeaza PersonDetail si TeamMemberDetail
	
	La search, sa apara persoana x de n ori. n = nr de proiecte din care face parte.                    
	                    
	                    
5) Exchange

	a) La update exchange se poate modifica doar rata, proiectul si monedele sunt greyed out
	b) Cand se introduce un schimb valutar, in baza de date se adauga doua inregistrari: una pentru rata si monedele selectare de user si
	una pentru transformarea inversa cu rata corespunzatoare
	c) Cand se adauga un exchange, se face verificare daca exista deja o entitate pentru cele doau monede selectate; daca exista, se poate 
	face overwrite sau nu
	d) Se poate face search dupa exchange in toate proiectele
